# JISキーボードライクなキーマップ

## 概要

　デフォルトキーマップの記号類をJISライクな配置に揃えなおしたものです。  
　オプションのRhymestone用のマップを使用するために拡張しています。RhymestoneのpromicroにもTreadstone48のキーマップを入れてください。  
　Rhymestoneは基本的には左手側を使うことを想定していますが、右手側を使用する場合はrules.mkにあるRHYMESTONE_RIGHTHAND設定をyesにすれば使えるようになります。  

```RHYMESTONE_RIGHTHAND=yes```

## キーマップの見かた

qmk_firmware\tmk_core\common\keycode.h  
に基本的なキーコードがあります。また、Keymap.cの上部にカスタムしたKC_で始まるものを登録しています。  
キーマップに書くときは「KC_」を省略して書いています。
例：KC_A → A  

Leyer Tap、Mod Tap、Tap DanceというQMKの機能を使っています。  

Layer Tapはタップで指定したキー、長押しで指定したレイヤーに移動します。  
例：LT(RAISE, KC_V) → タップでV、長押しでRAISEレイヤー移動

Mod Tapはタップで視程したキー、長押しで視程したレイヤーに移動します。  
例：LSFT_T(KC_Z) → タップでZ、長押しで左シフト

Tap Danceは指定した二つのキーをシングルタップ、ダブルタップで切り替えられます。  
例：[TD_CODO] = ACTION_TAP_DANCE_DOUBLE(KC_COMM, KC_DOT) → シングルタップでCOMM、ダブルタップでDOT

もう少し詳しい内容についてはQMK Documentをお読みいただくかネットを検索すれば情報が載っていますので別途検索してみてください。  

## 機能

　QWERTYキーマップをベースにしていて、LowerレイヤーとRaiseレイヤーに他のキーを配置しています。  
　LowerとRaiseを同時押しでAdjustレイヤーを使うことが出来ます。  
　DOTの横、SLROと書いてあるのはシングルタップで/記号、ダブルタップで\記号が入力出来るようになっています。
　Lの横、SCCLと書いてあるのはシングルタップで;記号、ダブルタップで:記号が入力出来るようになっています。
　マウスキーの割り当てがありますので、もし使用したい場合はrules.mkでMOUSEKEY_ENABLE = yesにしてmakeすると使用することができます。  
　Rhymestone側はテンキー機能と、Rhymestoneを左手に置いての疑似スプリットキーボードにもなるよう、Rhymestoneのキーマップと同じBaseレイヤーとLowerレイヤーを入れています。Lower+BASESで疑似スプリットキーボードのモードに移行します。元に戻すにはもう一度Lower+BASEを押下するとNUMPADのモードになります。

## 48キー目について

　このキーボードはEnterキーの上の2Uキーを1Ux2個にして使用する事が出来るようになっています。  使用する場合はキーマップの書き換えが必要です。  

　各レイヤーの最下段の

```c
      XXXXX \
  // ExtraKey: Split backspace key or it is below the enter key.
```

　のXXXXXに任意のキーを入れることでPの右隣のキーとして動作するようになっています。その右隣りに従来のキーが配置されています。  

```c

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
  [_BASE] = LAYOUT_ALPHA_RS_kc( \
  // Treadstone48                                                                                 Rhymestone
  //,------------------------------------------------------------------------------------------.  ----------------------------------.
        ESC,     Q,     W,     E,     R,     T,     Y,     U,     I,     O,     P,         MINS,      P7,    P8,    P9,  PSLS,  NLCK,\
  //|------+------+------+------+------+------|------+------+------+------+------+-------------|  ------+------+------+------+------|
       TBSF,     A,     S,     D,     F,     G,     H,     J,     K,     L,  SCCL,          ENT,      P4,    P5,    P6,  PAST,   TAB,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
       LSFT,     Z,     X,     C,     V,     B,     N,     M,  COMM,   DOT,  SLRO,    UP,             P1,    P2,    P3,  PMNS,  PENT,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
      LCTRL,  LALT,  LGUI, LOWER,         BSPC,          SPC, RAISE,  ALAP,  LEFT,  DOWN,  RGHT,   LOWER,    P0,  PDOT,  PPLS,  BSPC,\
  //`------------------------------------------------------------------------------------------'  ----------------------------------'
      XXXXX \
  // ExtraKey: Split backspace key or it is below the enter key.
  ),

  [_LOWER] = LAYOUT_ALPHA_RS_kc( \
  // Treadstone48                                                                                 Rhymestone
  //,------------------------------------------------------------------------------------------.  ----------------------------------.
      _____,    F1,    F2,    F3,    F4,    F5,  MINS,   EQL,  JYEN,  LBRC,  RBRC,          DEL,       A,     B,     C,  JYEN,  HASH,\
  //|------+------+------+------+------+------|------+------+------+------+------+-------------|  ------+------+------+------+------|
      _____,    F6,    F7,    F8,    F9,   F10, XXXXX, XXXXX,  SCLN,  QUOT,  BSLS,        _____,       D,     E,     F,  PERC,  SFUC,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
      _____,   F11,   F12, BASES, KANJI,   ENT, XXXXX,  COMM,   DOT,  SLSH,    RO,  PGUP,           RSBR,  REBR,  RBRC,  QUOT, _____,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
      _____, _____, _____, _____,          DEL,        _____, _____, XXXXX,  HOME,  PGDN,   END,   _____, XXXXX,  COMM,  JEQL,   DEL,\
  //`------------------------------------------------------------------------------------------'  ----------------------------------'
      XXXXX \
  // ExtraKey: Split backspace key or it is below the enter key.
  ),

  [_BASES] = LAYOUT_ALPHA_RS_kc( \
  // Treadstone48                                                                                 Rhymestone
  //,------------------------------------------------------------------------------------------.  ----------------------------------.
        ESC,     Q,     W,     E,     R,     T,     Y,     U,     I,     O,     P,         MINS,       Q,     W,     E,     R,     T,\
  //|------+------+------+------+------+------|------+------+------+------+------+-------------|  ------+------+------+------+------|
       TBSF,     A,     S,     D,     F,     G,     H,     J,     K,     L,  SCCL,          ENT,       A,     S,     D,     F,     G,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
       LSFT,     Z,     X,     C,     V,     B,     N,     M,  COMM,   DOT,  SLRO,    UP,           ZSFT,     X,     C,     V,     B,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
      LCTRL,  LALT,  LGUI, LOWRS,         BSPC,          SPC, RAISE,  ALAP,  LEFT,  DOWN,  RGHT,    ESCT,  TBAL,  LGUI, LOWRS,  BSPC,\
  //`------------------------------------------------------------------------------------------'  ----------------------------------'
      XXXXX \
  // ExtraKey: Split backspace key or it is below the enter key.
  ),

  [_LOWRS] = LAYOUT_ALPHA_RS_kc( \
  // Treadstone48                                                                                 Rhymestone
  //,------------------------------------------------------------------------------------------.  ----------------------------------.
      _____,    F1,    F2,    F3,    F4,    F5,  MINS,   EQL,  JYEN,  LBRC,  RBRC,          DEL,      F1,    F2,    F3,    F4,    F5,\
  //|------+------+------+------+------+------|------+------+------+------+------+-------------|  ------+------+------+------+------|
      _____,    F6,    F7,    F8,    F9,   F10, XXXXX, XXXXX,  SCLN,  QUOT,  BSLS,        _____,      F6,    F7,    F8,    F9,   F10,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
      _____,   F11,   F12,  BASE, KANJI,   ENT, XXXXX,  COMM,   DOT,  SLSH,    RO,  PGUP,           11SF,   F12,  BASE, KANJI,   ENT,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
      _____, _____, _____, _____,          DEL,        _____, _____, XXXXX,  HOME,  PGDN,   END,   _____, _____, _____, _____,   DEL,\
  //`------------------------------------------------------------------------------------------'  ----------------------------------'
      XXXXX \
  // ExtraKey: Split backspace key or it is below the enter key.
  ),

  [_RAISE] = LAYOUT_ALPHA_RS_kc( \
  // Treadstone48                                                                                 Rhymestone
  //,------------------------------------------------------------------------------------------.  ----------------------------------.
      _____,     1,     2,     3,     4,     5,     6,     7,     8,     9,     0,        XXXXX,   XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //|------+------+------+------+------+------|------+------+------+------+------+-------------|  ------+------+------+------+------|
      _____, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,     4,     5,     6,  QUOT,        _____,   XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
      _____, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,     1,     2,     3,    RO, XXXXX,          XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
      _____, _____, _____, _____,        _____,        _____, _____,     0,   DOT,  COMM,  SLSH,   XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //`------------------------------------------------------------------------------------------'  ----------------------------------'
      XXXXX \
  // ExtraKey: Split backspace key or it is below the enter key.
  ),

  [_ADJUST] = LAYOUT_ALPHA_RS_kc( \
  // Treadstone48                                                                                 Rhymestone
  //,------------------------------------------------------------------------------------------.  ----------------------------------.
      XXXXX,   RST,  LRST,  KNRM,  KSWP, XXXXX, XXXXX,  WH_L,  WH_U,  HOME,  PGUP,        XXXXX,   XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //|------+------+------+------+------+------|------+------+------+------+------+-------------|  ------+------+------+------+------|
      XXXXX,  LTOG,  LHUI,  LSAI,  LVAI, XXXXX, XXXXX,  WH_R,  WH_D,   END,  PGDN,        XXXXX,   XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
      _____,  LMOD,  LHUD,  LSAD,  LVAD, XXXXX, XXXXX, XXXXX,  BTN1,  BTN2, XXXXX,  MS_U,          XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //|------+------+------+------+------+------|------+------+------+------+------+------+------|  ------+------+------+------+------|
      _____, _____, _____, _____,        XXXXX,        XXXXX, _____, XXXXX,  MS_L,  MS_D,  MS_R,   XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //`------------------------------------------------------------------------------------------'  ----------------------------------'
      XXXXX \
  // ExtraKey: Split backspace key or it is below the enter key.
  )
};

```
